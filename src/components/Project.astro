---
import { getCollection } from "astro:content";
const allProjects = await getCollection("projects");
import { Badge } from "@/components/starwind/badge";
import ProjectCard from "@/components/ProjectCard.astro";
import Layout from "@/layouts/Layout.astro";
---

<Layout>
  <div class="py-8">
    <h1 class="font-extrabold text-3xl py-5 text-center">Projects</h1>

    <!-- Grid with no gaps -->
    <div class="columns-1 sm:columns-2 md:columns-3 gap-0">
      {allProjects.map((article: any) => (
        <ProjectCard
          project={article}
          buttonText="View"
          class="rounded-none shadow-none border-none"
        >
          <!-- Tech Tags Slot -->
          <div class="flex flex-wrap gap-1 mt-2">
            {article.data.tech.map((item: any) => (
              <Badge size="sm" variant="ghost">{item}</Badge>
            ))}
          </div>
        </ProjectCard>
      ))}
    </div>
  </div>
</Layout>
