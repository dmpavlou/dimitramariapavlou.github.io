---
import { getCollection, render } from 'astro:content';
import Layout from "@/layouts/Layout.astro";
import { Button } from "@/components/starwind/button";
// 1. Generate a new path for every collection entry
export async function getStaticPaths() {
const projects = await getCollection('projects');
return projects.map(project => ({
params: { slug: project.data.slug },
props: { project },
}));
}
// 2. For your template, you can get the entry directly from the prop
const { project } = Astro.props;
const { Content } = await render(project);
---
<meta charset="UTF-8">
<Layout>
  <div class="relative min-h-screen overflow-hidden">
    <!-- Page Content -->
    <div class="relative z-10 mx-auto max-w-3xl px-6 py-10">

      <!-- Go Back -->
      <div class="mt-16 mb-6 text-center">
        <a href="/portfolio" class="inline-block text-gray-600 hover:text-orange-500 transition-colors text-base">
          ‚Üê Back to Projects
        </a>
      </div>

      <h1 class="font-bold text-4xl text-center mb-2">{project.data.title}</h1>
      <h2 class="text-lg text-center text-gray-700 mb-8">{project.data.description}</h2>

      <div class="flex justify-center mb-8">
  {project.data.slug === 'ambient_soundscape_generator' ? (
    <div class="w-full max-w-2xl [column-count:1]">
      <Content />
    </div>
  ) : (
    <Content />
  )}
</div>

      <div class="text-center">
        <h2 class="text-sm text-gray-600 mb-2">
          Published on {project.data.published}
        </h2>
        <Button href={project.data.url} variant="outline">
          View on {project.data.platform}
        </Button>
      </div>

    </div>
  </div>
</Layout>